

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Workflow &mdash; Tamr Toolbox  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Utilities" href="utils.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Tamr Toolbox
          

          
            
            <img src="../_static/tamr.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.1.1 - Epoxy
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="data_io.html">Data Input/Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="enrichment.html">Enrichment</a></li>
<li class="toctree-l2"><a class="reference internal" href="filesystem.html">Filesystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="notifications.html">Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="project.html">Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-tamr_toolbox.workflow.backup">Backup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-tamr_toolbox.workflow.jobs">Jobs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Tamr Toolbox</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../modules.html">Modules</a> &raquo;</li>
        
      <li>Workflow</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/workflow.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="workflow">
<h1>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-tamr_toolbox.workflow.backup">
<span id="backup"></span><h2>Backup<a class="headerlink" href="#module-tamr_toolbox.workflow.backup" title="Permalink to this headline">¶</a></h2>
<p>Tasks related to backup and restore of Tamr instances</p>
<dl class="function">
<dt id="tamr_toolbox.workflow.backup.list_backups">
<code class="sig-prename descclassname">tamr_toolbox.workflow.backup.</code><code class="sig-name descname">list_backups</code><span class="sig-paren">(</span><em class="sig-param">client</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/backup.html#list_backups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.backup.list_backups" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all backups available to Tamr client. Will list both succeeded and failed backups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>client</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code>) – A client object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generator" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Generator</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>], <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A generator of json dict objects for the backups available to client.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tamr_toolbox.workflow.backup.get_backup_by_id">
<code class="sig-prename descclassname">tamr_toolbox.workflow.backup.</code><code class="sig-name descname">get_backup_by_id</code><span class="sig-paren">(</span><em class="sig-param">client</em>, <em class="sig-param">backup_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/backup.html#get_backup_by_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.backup.get_backup_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the json object for a given backup ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code>) – A Tamr client object.</p></li>
<li><p><strong>backup_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – The relativeID corresponding to the desired backup.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Json dict corresponding to the desired backup.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – Raised if GET request to Tamr fails</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tamr_toolbox.workflow.backup.initiate_backup">
<code class="sig-prename descclassname">tamr_toolbox.workflow.backup.</code><code class="sig-name descname">initiate_backup</code><span class="sig-paren">(</span><em class="sig-param">client</em>, <em class="sig-param">*</em>, <em class="sig-param">poll_interval_seconds=30</em>, <em class="sig-param">polling_timeout_seconds=None</em>, <em class="sig-param">connection_retry_timeout_seconds=600</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/backup.html#initiate_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.backup.initiate_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a backup of Tamr client and waits until it is finished.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code>) – A Tamr client object</p></li>
<li><p><strong>poll_interval_seconds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Amount of time in between polls of job state.</p></li>
<li><p><strong>polling_timeout_seconds</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – Amount of time before a timeout error is thrown.</p></li>
<li><p><strong>connection_retry_timeout_seconds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Amount of time before timeout error is thrown during
connection retry</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Json dict of response from API request.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tamr_toolbox.workflow.backup.initiate_restore">
<code class="sig-prename descclassname">tamr_toolbox.workflow.backup.</code><code class="sig-name descname">initiate_restore</code><span class="sig-paren">(</span><em class="sig-param">client</em>, <em class="sig-param">backup_id</em>, <em class="sig-param">*</em>, <em class="sig-param">polling_timeout_seconds=None</em>, <em class="sig-param">poll_interval_seconds=30</em>, <em class="sig-param">connection_retry_timeout_seconds=600</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/backup.html#initiate_restore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.backup.initiate_restore" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the Tamr client to the state of the supplied backup.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code>) – A Tamr client object</p></li>
<li><p><strong>backup_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – BackupId of the desired backup.</p></li>
<li><p><strong>polling_timeout_seconds</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>]) – Amount of time before a timeout error is thrown.</p></li>
<li><p><strong>poll_interval_seconds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Amount of time in between polls of job state.</p></li>
<li><p><strong>connection_retry_timeout_seconds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Amount of time before timeout error is thrown during
connection retry</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Json dict of response from API request.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – Raised if the target backup contains errors</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.9)"><strong>RuntimeError</strong></a> – Raised if the restore fails to start</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tamr_toolbox.workflow.backup.validate_backup">
<code class="sig-prename descclassname">tamr_toolbox.workflow.backup.</code><code class="sig-name descname">validate_backup</code><span class="sig-paren">(</span><em class="sig-param">directory</em>, <em class="sig-param">*</em>, <em class="sig-param">backup_datetime_format='%Y-%m-%d_%H-%M-%S-%f'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/backup.html#validate_backup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.backup.validate_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates that a directory is a valid backup. A valid backup has a
manifest file, a completion file (_SUCCEEDED, _FAILED, or _CANCELED),
the folder has a valid date format, and the date is prior to the current time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – path to backup directory</p></li>
<li><p><strong>backup_datetime_format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – String datetime format in backup folder name</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if directory is a valid backup, otherwise False.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tamr_toolbox.workflow.backup.delete_backups">
<code class="sig-prename descclassname">tamr_toolbox.workflow.backup.</code><code class="sig-name descname">delete_backups</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">backups</em>, <em class="sig-param">backup_directory</em>, <em class="sig-param">backup_datetime_format='%Y-%m-%d_%H-%M-%S-%f'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/backup.html#delete_backups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.backup.delete_backups" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes backup folders recursively.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backups</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – list of backups to delete</p></li>
<li><p><strong>backup_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Path to backup directory</p></li>
<li><p><strong>backup_datetime_format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – String datetime format in backup folder name</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of deleted backup names</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tamr_toolbox.workflow.backup.classify_backups">
<code class="sig-prename descclassname">tamr_toolbox.workflow.backup.</code><code class="sig-name descname">classify_backups</code><span class="sig-paren">(</span><em class="sig-param">backup_directory</em>, <em class="sig-param">*</em>, <em class="sig-param">backup_datetime_format='%Y-%m-%d_%H-%M-%S-%f'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/backup.html#classify_backups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.backup.classify_backups" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes stock of successful and failed valid backups in the backup directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backup_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Path to backup directory</p></li>
<li><p><strong>backup_datetime_format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – String datetime format in backup folder name</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>JSON dict with the keys “successful” (List of successful backups) and
“not_successful” (List of failed or cancelled backups)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – if target backup file contains an error message</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tamr_toolbox.workflow.backup.delete_old_backups">
<code class="sig-prename descclassname">tamr_toolbox.workflow.backup.</code><code class="sig-name descname">delete_old_backups</code><span class="sig-paren">(</span><em class="sig-param">backup_directory</em>, <em class="sig-param">*</em>, <em class="sig-param">num_successful_backups_to_keep</em>, <em class="sig-param">num_failed_backups_to_keep</em>, <em class="sig-param">backup_datetime_format='%Y-%m-%d_%H-%M-%S-%f'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/backup.html#delete_old_backups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.backup.delete_old_backups" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Deletes old backups. Keeps the most recent num_successful_backups_to_keep successful backups</dt><dd><p>and the most recent num_failed_backups_to_keep failed backups</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>backup_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Path to backup directory</p></li>
<li><p><strong>num_successful_backups_to_keep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Number of successful backups to keep</p></li>
<li><p><strong>num_failed_backups_to_keep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Number of failed or canceled backups to keep</p></li>
<li><p><strong>backup_datetime_format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – String datetime format in backup folder name</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></a>]]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of deleted backups. Returns None if no backups are deleted.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – if the number of backups to keep is less than 0</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tamr_toolbox.workflow.backup.delete_old_spark_event_logs">
<code class="sig-prename descclassname">tamr_toolbox.workflow.backup.</code><code class="sig-name descname">delete_old_spark_event_logs</code><span class="sig-paren">(</span><em class="sig-param">tamr_home_directory</em>, <em class="sig-param">*</em>, <em class="sig-param">num_days_to_keep=14</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/backup.html#delete_old_spark_event_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.backup.delete_old_spark_event_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes sparkEventLogs older than the specified number of days.
This assumes that Spark is running locally on the same VM as Tamr
and that the logs are on the local filesystem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tamr_home_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.9)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]) – Path to the Tamr home directory</p></li>
<li><p><strong>num_days_to_keep</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>) – Number of days for which to keep logs</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of deleted sparkEventLogs files</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> – if num_days_to_keep is less than 0</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(in Python v3.9)"><strong>FileNotFoundError</strong></a> – if sparkEventLogs directory doesn’t exist</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-tamr_toolbox.workflow.jobs">
<span id="jobs"></span><h2>Jobs<a class="headerlink" href="#module-tamr_toolbox.workflow.jobs" title="Permalink to this headline">¶</a></h2>
<p>Tasks related to running jobs for groups of Tamr projects</p>
<dl class="function">
<dt id="tamr_toolbox.workflow.jobs.run">
<code class="sig-prename descclassname">tamr_toolbox.workflow.jobs.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">project_list</em>, <em class="sig-param">*</em>, <em class="sig-param">run_apply_feedback=False</em>, <em class="sig-param">run_estimate_pair_counts=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/jobs.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.jobs.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run multiple projects in order</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Project</span></code>]) – A list of Tamr projects</p></li>
<li><p><strong>run_apply_feedback</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Whether train should be called on the pair matching model
or categorization model (based on project type)</p></li>
<li><p><strong>run_estimate_pair_counts</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>) – Whether an estimate pairs job should be run</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Operation</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The operations that were run</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.9)"><strong>NotImplementedError</strong></a> – Raised if run() is called on an unsupported project type</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tamr_toolbox.workflow.jobs.get_upstream_projects">
<code class="sig-prename descclassname">tamr_toolbox.workflow.jobs.</code><code class="sig-name descname">get_upstream_projects</code><span class="sig-paren">(</span><em class="sig-param">project</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tamr_toolbox/workflow/jobs.html#get_upstream_projects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tamr_toolbox.workflow.jobs.get_upstream_projects" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for upstream projects associated with a specified project</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>project</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Project</span></code>) – the tamr project for which associated upstream projects are retrieved</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code></a>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Project</span></code>]</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="utils.html" class="btn btn-neutral float-left" title="Utilities" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Tamr

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>